CREATE TABLE WAR06_INVENTORIES (
  COMPANY_CODE_SYS01 VARCHAR(20) NOT NULL,
  PROGRESSIVE NUMERIC(12) NOT NULL,
  WAREHOUSE_CODE_WAR01 VARCHAR(20) NOT NULL,
  ITEM_TYPE CHAR(1) NOT NULL,
  STATE CHAR(1) NULL,
  DESCRIPTION VARCHAR(255) NOT NULL,
  START_DATE DATE NOT NULL,
  END_DATE DATE NULL,
  NOTE VARCHAR(2000) NULL,
  PRIMARY KEY(COMPANY_CODE_SYS01, PROGRESSIVE),
  INDEX WAR06_INVENTORIES_FKIndex1(COMPANY_CODE_SYS01),
  INDEX WAR06_INVENTORIES_FKIndex2(COMPANY_CODE_SYS01, WAREHOUSE_CODE_WAR01),
  FOREIGN KEY(COMPANY_CODE_SYS01)
    REFERENCES SYS01_COMPANIES(COMPANY_CODE)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION,
  FOREIGN KEY(COMPANY_CODE_SYS01, WAREHOUSE_CODE_WAR01)
    REFERENCES WAR01_WAREHOUSES(COMPANY_CODE_SYS01, WAREHOUSE_CODE)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION
);

CREATE TABLE WAR07_INVENTORY_ITEMS (
  COMPANY_CODE_SYS01 VARCHAR(20) NOT NULL,
  PROGRESSIVE_WAR06 NUMERIC(12) NOT NULL,
  ITEM_CODE_ITM01 VARCHAR(20) NOT NULL,
  VARIANT_TYPE_ITM06 VARCHAR(20) NOT NULL,
  VARIANT_CODE_ITM11 VARCHAR(20) NOT NULL,
  VARIANT_TYPE_ITM07 VARCHAR(20) NOT NULL,
  VARIANT_CODE_ITM12 VARCHAR(20) NOT NULL,
  VARIANT_TYPE_ITM08 VARCHAR(20) NOT NULL,
  VARIANT_CODE_ITM13 VARCHAR(20) NOT NULL,
  VARIANT_TYPE_ITM09 VARCHAR(20) NOT NULL,
  VARIANT_CODE_ITM14 VARCHAR(20) NOT NULL,
  VARIANT_TYPE_ITM10 VARCHAR(20) NOT NULL,
  VARIANT_CODE_ITM15 VARCHAR(20) NOT NULL,
  PROGRESSIVE_HIE01 NUMERIC(12) NOT NULL,
  REAL_PROGRESSIVE_HIE01 NUMERIC(12) NULL,
  PROGRESSIVE_HIE02 NUMERIC(12) NOT NULL,
  STATE CHAR(1) NULL,
  QTY DECIMAL(18,5) NULL,
  REAL_QTY DECIMAL(18,5) NULL,
  DELTA_QTY DECIMAL(18,5) NULL,
  PRIMARY KEY(COMPANY_CODE_SYS01, PROGRESSIVE_WAR06, ITEM_CODE_ITM01, VARIANT_TYPE_ITM06, VARIANT_CODE_ITM11, VARIANT_TYPE_ITM07, VARIANT_CODE_ITM12, VARIANT_TYPE_ITM08, VARIANT_CODE_ITM13, VARIANT_TYPE_ITM09, VARIANT_CODE_ITM14, VARIANT_TYPE_ITM10, VARIANT_CODE_ITM15, PROGRESSIVE_HIE01),
  INDEX WAR07_FKIndex1(COMPANY_CODE_SYS01, PROGRESSIVE_WAR06),
  INDEX WAR07_FKIndex2(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM06, VARIANT_CODE_ITM11),
  INDEX WAR07_FKIndex3(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM07, VARIANT_CODE_ITM12),
  INDEX WAR07_FKIndex4(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM08, VARIANT_CODE_ITM13),
  INDEX WAR07_FKIndex5(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM09, VARIANT_CODE_ITM14),
  INDEX WAR07_FKIndex6(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM10, VARIANT_CODE_ITM15),
  FOREIGN KEY(COMPANY_CODE_SYS01, PROGRESSIVE_WAR06)
    REFERENCES WAR06_INVENTORIES(COMPANY_CODE_SYS01, PROGRESSIVE)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION,
  FOREIGN KEY(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM06, VARIANT_CODE_ITM11)
    REFERENCES ITM16_PRODUCT_VARIANTS_1(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM06, VARIANT_CODE_ITM11)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION,
  FOREIGN KEY(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM07, VARIANT_CODE_ITM12)
    REFERENCES ITM17_PRODUCT_VARIANTS_2(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM07, VARIANT_CODE_ITM12)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION,
  FOREIGN KEY(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM08, VARIANT_CODE_ITM13)
    REFERENCES ITM18_PRODUCT_VARIANTS_3(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM08, VARIANT_CODE_ITM13)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION,
  FOREIGN KEY(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM09, VARIANT_CODE_ITM14)
    REFERENCES ITM19_PRODUCT_VARIANTS_4(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM09, VARIANT_CODE_ITM14)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION,
  FOREIGN KEY(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM10, VARIANT_CODE_ITM15)
    REFERENCES ITM20_PRODUCT_VARIANTS_5(COMPANY_CODE_SYS01, ITEM_CODE_ITM01, VARIANT_TYPE_ITM10, VARIANT_CODE_ITM15)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION
);

CREATE TABLE WAR08_INVENTORY_S_N (
  SERIAL_NUMBER VARCHAR(255) NOT NULL,
  COMPANY_CODE_SYS01 VARCHAR(20) NOT NULL,
  PROGRESSIVE_WAR06 NUMERIC(12) NOT NULL,
  ITEM_CODE_ITM01 VARCHAR(20) NOT NULL,
  VARIANT_CODE_ITM15 VARCHAR(20) NOT NULL,
  VARIANT_TYPE_ITM10 VARCHAR(20) NOT NULL,
  VARIANT_CODE_ITM14 VARCHAR(20) NOT NULL,
  VARIANT_TYPE_ITM09 VARCHAR(20) NOT NULL,
  VARIANT_CODE_ITM13 VARCHAR(20) NOT NULL,
  VARIANT_TYPE_ITM08 VARCHAR(20) NOT NULL,
  VARIANT_CODE_ITM12 VARCHAR(20) NOT NULL,
  VARIANT_TYPE_ITM07 VARCHAR(20) NOT NULL,
  VARIANT_CODE_ITM11 VARCHAR(20) NOT NULL,
  VARIANT_TYPE_ITM06 VARCHAR(20) NOT NULL,
  PROGRESSIVE_HIE01 NUMERIC(12) NOT NULL,
  PRIMARY KEY(SERIAL_NUMBER),
  INDEX WAR08_FKIndex1(COMPANY_CODE_SYS01, PROGRESSIVE_WAR06, ITEM_CODE_ITM01, VARIANT_TYPE_ITM06, VARIANT_CODE_ITM11, VARIANT_TYPE_ITM07, VARIANT_CODE_ITM12, VARIANT_TYPE_ITM08, VARIANT_CODE_ITM13, VARIANT_TYPE_ITM09, VARIANT_CODE_ITM14, VARIANT_TYPE_ITM10, VARIANT_CODE_ITM15, PROGRESSIVE_HIE01),
  FOREIGN KEY(COMPANY_CODE_SYS01, PROGRESSIVE_WAR06, ITEM_CODE_ITM01, VARIANT_TYPE_ITM06, VARIANT_CODE_ITM11, VARIANT_TYPE_ITM07, VARIANT_CODE_ITM12, VARIANT_TYPE_ITM08, VARIANT_CODE_ITM13, VARIANT_TYPE_ITM09, VARIANT_CODE_ITM14, VARIANT_TYPE_ITM10, VARIANT_CODE_ITM15, PROGRESSIVE_HIE01)
    REFERENCES WAR07_INVENTORY_ITEMS(COMPANY_CODE_SYS01, PROGRESSIVE_WAR06, ITEM_CODE_ITM01, VARIANT_TYPE_ITM06, VARIANT_CODE_ITM11, VARIANT_TYPE_ITM07, VARIANT_CODE_ITM12, VARIANT_TYPE_ITM08, VARIANT_CODE_ITM13, VARIANT_TYPE_ITM09, VARIANT_CODE_ITM14, VARIANT_TYPE_ITM10, VARIANT_CODE_ITM15, PROGRESSIVE_HIE01)
      ON DELETE NO ACTION
      ON UPDATE NO ACTION
);




INSERT INTO SYS06_FUNCTIONS(FUNCTION_CODE,PROGRESSIVE_SYS10,IMAGE_NAME,METHOD_NAME,USE_COMPANY_CODE,CAN_DEL)
VALUES('INVENTORY_LIST',3572,'doc3.gif','getInventoryList','Y','N');
INSERT INTO SYS18_FUNCTION_LINKS(POS_ORDER,FUNCTION_CODE_SYS06,PROGRESSIVE_HIE01) VALUES(7,'INVENTORY_LIST',52);

INSERT INTO SYS07_ROLE_FUNCTIONS(PROGRESSIVE_SYS04,FUNCTION_CODE_SYS06,CAN_INS,CAN_UPD,CAN_DEL)
 SELECT 2,FUNCTION_CODE,'Y','Y','Y' FROM SYS06_FUNCTIONS
 WHERE NOT EXISTS(SELECT * FROM SYS07_ROLE_FUNCTIONS WHERE SYS07_ROLE_FUNCTIONS.FUNCTION_CODE_SYS06=SYS06_FUNCTIONS.FUNCTION_CODE);

INSERT INTO SYS02_COMPANIES_ACCESS(COMPANY_CODE_SYS01,PROGRESSIVE_SYS04,FUNCTION_CODE_SYS06,CAN_INS,CAN_UPD,CAN_DEL)
 SELECT COMPANY_CODE,2,FUNCTION_CODE_SYS06,'Y','Y','Y' FROM SYS07_ROLE_FUNCTIONS,SYS06_FUNCTIONS,SYS01_COMPANIES
 WHERE FUNCTION_CODE_SYS06=FUNCTION_CODE AND USE_COMPANY_CODE='Y' AND SYS01_COMPANIES.ENABLED='Y' AND
 NOT EXISTS(SELECT * FROM SYS02_COMPANIES_ACCESS WHERE COMPANY_CODE_SYS01=COMPANY_CODE AND FUNCTION_CODE_SYS06=FUNCTION_CODE);


 
INSERT INTO WAR04_WAREHOUSE_MOTIVES(WAREHOUSE_MOTIVE,PROGRESSIVE_SYS10,QTY_SIGN,ITEM_TYPE,ENABLED) VALUES('NEG_INVCORR_GOOD_ITM',3582,'-','G','Y');
INSERT INTO WAR04_WAREHOUSE_MOTIVES(WAREHOUSE_MOTIVE,PROGRESSIVE_SYS10,QTY_SIGN,ITEM_TYPE,ENABLED) VALUES('POS_INVCORR_GOOD_ITM',3592,'+','G','Y');
INSERT INTO WAR04_WAREHOUSE_MOTIVES(WAREHOUSE_MOTIVE,PROGRESSIVE_SYS10,QTY_SIGN,ITEM_TYPE,ENABLED) VALUES('NEG_INVCORR_DAMG_ITM',3602,'-','D','Y');
INSERT INTO WAR04_WAREHOUSE_MOTIVES(WAREHOUSE_MOTIVE,PROGRESSIVE_SYS10,QTY_SIGN,ITEM_TYPE,ENABLED) VALUES('POS_INVCORR_DAMG_ITM',3612,'+','D','Y');

INSERT INTO SYS11_APPLICATION_PARS(PARAM_CODE,VALUE) VALUES('NEG_INVCORR_GOOD_ITM','NEG_INVCORR_GOOD_ITM');
INSERT INTO SYS11_APPLICATION_PARS(PARAM_CODE,VALUE) VALUES('POS_INVCORR_GOOD_ITM','POS_INVCORR_GOOD_ITM');
INSERT INTO SYS11_APPLICATION_PARS(PARAM_CODE,VALUE) VALUES('POS_INVCORR_DAMG_ITM','POS_INVCORR_DAMG_ITM');
INSERT INTO SYS11_APPLICATION_PARS(PARAM_CODE,VALUE) VALUES('NEG_INVCORR_DAMG_ITM','NEG_INVCORR_DAMG_ITM');
